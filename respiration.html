<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vivario — Respiration</title>
  <link rel="stylesheet" href="style.css?v=900" />
</head>

<body class="page-breath">
  <main class="wrap">
    <header class="top">
      <h1 class="brand">Vivario</h1>
      <p class="muted">Exercice guidé de respiration.</p>
    </header>

    <section class="card breath-card">
      <div class="breathe-orb" aria-hidden="true"></div>

      <div class="breath-head">
        <h2 style="margin:0;">Respiration guidée</h2>
        <p class="muted" style="margin:6px 0 0; line-height:1.45;">
          Inspire • (bloque) • expire. Tu peux arrêter quand tu veux.
        </p>
      </div>

      <div class="breath-stage" id="breathStage" aria-label="Visuel respiration">
        <div class="lungs" aria-hidden="true">
          <svg class="lungs-svg" viewBox="0 0 520 320" role="img" aria-label="Poumons">
            <defs>
              <radialGradient id="lg" cx="35%" cy="30%" r="70%">
                <stop offset="0%" stop-color="rgba(255,255,255,.20)" />
                <stop offset="55%" stop-color="rgba(120,160,255,.16)" />
                <stop offset="100%" stop-color="rgba(0,0,0,0)" />
              </radialGradient>
              <linearGradient id="lungFill" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="rgba(255,255,255,.16)"/>
                <stop offset="100%" stop-color="rgba(120,160,255,.10)"/>
              </linearGradient>
            </defs>

            <circle cx="260" cy="160" r="150" fill="url(#lg)" opacity="0.9"/>

            <path d="M255 45 C255 85 255 85 255 118
                     C255 132 245 138 232 146
                     C216 156 205 170 198 190"
                  fill="none" stroke="rgba(255,255,255,.35)" stroke-width="10" stroke-linecap="round"/>
            <path d="M265 45 C265 85 265 85 265 118
                     C265 132 275 138 288 146
                     C304 156 315 170 322 190"
                  fill="none" stroke="rgba(255,255,255,.30)" stroke-width="10" stroke-linecap="round"/>

            <path class="lung lung-left"
              d="M205 120
                 C165 125 140 155 132 190
                 C123 230 142 275 188 286
                 C225 295 245 270 247 240
                 C250 198 232 160 205 120 Z"
              fill="url(#lungFill)" stroke="rgba(255,255,255,.14)" stroke-width="2"/>

            <path class="lung lung-right"
              d="M315 120
                 C355 125 380 155 388 190
                 C397 230 378 275 332 286
                 C295 295 275 270 273 240
                 C270 198 288 160 315 120 Z"
              fill="url(#lungFill)" stroke="rgba(255,255,255,.14)" stroke-width="2"/>

            <path class="alveoli"
              d="M205 165 C185 175 180 210 195 235
                 M205 205 C190 220 195 250 215 262
                 M310 165 C330 175 338 210 323 235
                 M310 205 C325 220 320 250 300 262"
              fill="none" stroke="rgba(255,255,255,.16)" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </div>

        <div class="breath-hud">
          <div class="breath-label" id="breathLabel">Prêt ?</div>
          <div class="breath-timer" id="breathTimer">4–6</div>
          <div class="breath-sub" id="breathSub">Appuie sur “Démarrer”.</div>
        </div>
      </div>

      <div class="actions breath-actions">
        <button class="btn primary" id="btnBreathStart">▶ Démarrer</button>
        <button class="btn ghost" id="btnBreathPause" disabled>⏸ Pause</button>
        <button class="btn ghost" id="btnBreathStop" disabled>⏹ Stop</button>
        <a class="btn ghost" href="accueil.html?v=900">↩ Retour</a>
      </div>

      <div class="sep"></div>

      <div class="breath-settings card" style="margin:0; padding:14px;">
        <div class="settings-row">
          <label class="set">
            <span class="set-title">Rythme</span>
            <select id="breathPreset" class="select">
              <option value="4-0-6" selected>4–0–6 (calme)</option>
              <option value="4-2-6">4–2–6 (plus guidé)</option>
              <option value="5-0-5">5–0–5 (équilibré)</option>
              <option value="4-4-4-4">4–4–4–4 (box breathing)</option>
            </select>
          </label>

          <label class="set">
            <span class="set-title">Durée</span>
            <select id="breathDuration" class="select">
              <option value="0" selected>Infini</option>
              <option value="120">2 min</option>
              <option value="180">3 min</option>
              <option value="300">5 min</option>
              <option value="600">10 min</option>
            </select>
          </label>
        </div>

        <div class="settings-row">
          <label class="toggle">
            <input type="checkbox" id="optVoice" checked />
            <span>Guide vocal</span>
          </label>

          <label class="toggle">
            <input type="checkbox" id="optCoach" checked />
            <span>Coach doux (voix)</span>
          </label>

          <label class="toggle">
            <input type="checkbox" id="optVibrate" checked />
            <span>Vibration</span>
          </label>

          <label class="toggle">
            <input type="checkbox" id="optTick" />
            <span>Petit “tick”</span>
          </label>

          <label class="toggle">
            <input type="checkbox" id="optMuteAmb" checked />
            <span>Couper l’ambiance pendant l’exercice</span>
          </label>
        </div>

        <p class="tiny muted" style="margin:10px 0 0; line-height:1.45;">
          Si tu te sens mal à l’aise, stoppe l’exercice et reviens à un souffle naturel.
        </p>
      </div>
    </section>
  </main>

  <script src="sound.js?v=900"></script>
  <script src="respiration.js?v=900"></script>
</body>
</html>