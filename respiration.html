<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vivario — Respiration</title>
  <link rel="stylesheet" href="style.css?v=18" />
  <meta name="theme-color" content="#071125" />
</head>

<body class="page-breath">
  <main class="wrap">
    <header class="top">
      <h1 class="brand">Respiration guidée</h1>
      <p class="muted">Inspire • (bloque) • expire. Le visuel, la voix et le décompte sont synchronisés.</p>
    </header>

    <section class="card hero-card breath-card">
      <div class="hero-glow" aria-hidden="true"></div>

      <div class="breath-grid">
        <!-- VISUEL -->
        <div class="breath-visual">
          <div class="lungs-wrap" aria-hidden="true">
            <!-- SVG plus “réaliste” + gros -->
            <svg class="lungs-pro" viewBox="0 0 520 420" role="img" aria-label="Poumons animés">
              <!-- trachée -->
              <path class="tube-fat" d="M260 45 C260 85 260 95 260 118" />
              <path class="tube" d="M260 45 C260 85 260 95 260 118" />

              <!-- carène + bronches principales -->
              <path class="tube-fat" d="M260 118 C242 128 232 142 220 156 C210 168 196 182 176 196" />
              <path class="tube-fat" d="M260 118 C278 128 288 142 300 156 C310 168 324 182 344 196" />
              <path class="tube" d="M260 118 C242 128 232 142 220 156 C210 168 196 182 176 196" />
              <path class="tube" d="M260 118 C278 128 288 142 300 156 C310 168 324 182 344 196" />

              <!-- branches gauche -->
              <path class="branch" d="M176 196 C162 206 150 220 145 235" />
              <path class="branch" d="M176 196 C160 212 156 230 156 250" />
              <path class="branch" d="M176 196 C162 220 172 238 182 252" />
              <path class="branch" d="M182 252 C170 266 166 286 170 306" />
              <path class="branch" d="M156 250 C145 266 140 288 145 312" />

              <!-- branches droite -->
              <path class="branch" d="M344 196 C358 206 370 220 375 235" />
              <path class="branch" d="M344 196 C360 212 364 230 364 250" />
              <path class="branch" d="M344 196 C358 220 348 238 338 252" />
              <path class="branch" d="M338 252 C350 266 354 286 350 306" />
              <path class="branch" d="M364 250 C375 266 380 288 375 312" />

              <!-- poumon gauche -->
              <path class="lung-outline" d="M210 145
                C165 160 132 198 120 250
                C109 300 125 348 165 372
                C196 390 230 385 245 360
                C260 335 255 285 250 250
                C244 210 236 165 210 145 Z" />
              <path class="lung-fill" d="M210 145
                C165 160 132 198 120 250
                C109 300 125 348 165 372
                C196 390 230 385 245 360
                C260 335 255 285 250 250
                C244 210 236 165 210 145 Z" fill="rgba(120,160,255,.55)"/>

              <!-- poumon droit -->
              <path class="lung-outline" d="M310 145
                C355 160 388 198 400 250
                C411 300 395 348 355 372
                C324 390 290 385 275 360
                C260 335 265 285 270 250
                C276 210 284 165 310 145 Z" />
              <path class="lung-fill" d="M310 145
                C355 160 388 198 400 250
                C411 300 395 348 355 372
                C324 390 290 385 275 360
                C260 335 265 285 270 250
                C276 210 284 165 310 145 Z" fill="rgba(120,160,255,.55)"/>

              <!-- flux air (dashes) -->
              <path class="air" d="M260 118 C240 130 230 150 215 170 C200 190 190 210 176 196" />
              <path class="air" d="M260 118 C280 130 290 150 305 170 C320 190 330 210 344 196" />

              <!-- particules -->
              <circle class="air-dot air-dot1" cx="252" cy="150" r="4" />
              <circle class="air-dot air-dot2" cx="268" cy="160" r="3.5" />
              <circle class="air-dot air-dot3" cx="245" cy="175" r="3" />
              <circle class="air-dot air-dot1" cx="275" cy="175" r="4" />
              <circle class="air-dot air-dot2" cx="260" cy="190" r="3.5" />
            </svg>
          </div>
        </div>

        <!-- CÔTÉ DROIT -->
        <aside class="breath-side">
          <div class="breath-status">
            <div class="breath-stage" id="stageTxt">Prêt</div>
            <div class="breath-sec" id="secTxt">—</div>
            <div class="breath-coach" id="coachTxt">Pose-toi. On va respirer ensemble, tranquillement.</div>
          </div>

          <div class="sep"></div>

          <div class="breath-actions" style="display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn primary" id="btnStart" type="button">▶ Démarrer</button>
            <button class="btn ghost" id="btnPause" type="button">⏸ Pause</button>
            <button class="btn ghost" id="btnStop" type="button">⏹ Stop</button>
            <a class="btn ghost" href="accueil.html?v=17">↩ Retour</a>
          </div>

          <div class="sep"></div>

          <div class="breath-settings">
            <div class="row" style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <label class="muted" style="font-weight:800;">Rythme</label>
              <select id="selRhythm">
                <option value="4-0-6">4–0–6 (calme)</option>
                <option value="4-2-6">4–2–6</option>
                <option value="5-0-7">5–0–7</option>
                <option value="4-4-4">4–4–4 (box)</option>
              </select>

              <label class="muted" style="font-weight:800;">Durée</label>
              <select id="selDuration">
                <option value="inf">Infini</option>
                <option value="60">1 min</option>
                <option value="120">2 min</option>
                <option value="180">3 min</option>
              </select>
            </div>

            <div class="checks" style="display:flex; flex-direction:column;">
              <label><input id="chkVoice" type="checkbox" checked> Guide vocal</label>
              <label><input id="chkSoft" type="checkbox" checked> Coach doux (voix)</label>
              <label><input id="chkMuteAmb" type="checkbox" checked> Couper l’ambiance pendant l’exercice</label>
              <label><input id="chkTick" type="checkbox" checked> Petit “tick”</label>
              <label><input id="chkVibe" type="checkbox"> Vibration légère</label>
            </div>

            <p class="tiny muted" style="margin-top:10px;">
              Si tu te sens mal à l’aise : stoppe l’exercice et reviens à un souffle naturel.
            </p>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <script src="sound.js?v=18"></script>
  <script src="ambiance.js?v=17"></script>
  <script src="ui.js?v=17"></script>
  <script src="respiration.js?v=18"></script>
</body>
</html>